<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
        
        <style>
        .policyCalculator h1 { 
        	text-align: center;
        	text-transform: uppercase;
        }
        .policyCalculator h2 { 
        	text-align: center;   
        }
        #ageRangeSlider, #policySlider {
	        height: 40px;
	        -webkit-border-radius: 24px;
	        -moz-border-radius: 24px;
	        -ms-border-radius: 24px;
	        -o-border-radius: 24px;
	        border-radius: 24px;
        }
        .ageRangeOutputs, .amountRangeOutputs {
	        text-align: center;
        }
        .ageRangeOutputs input, .amountRangeOutputs input { 
        	width: 38px;
        	border: 0; 
        }
        .ui-widget-header {
	        background: #e29435 url() top left no-repeat;
	        -webkit-border-radius: 24px;
	        -moz-border-radius: 24px;
	        -ms-border-radius: 24px;
	        -o-border-radius: 24px;
	        border-radius: 24px;
        }
        .ui-widget-content .ui-state-default, .ui-widget-content .ui-state-active {
        		width: 38px;
        		height: 38px;
        		background: #555 url() top left no-repeat;
        		border: 0;
	        	-webkit-border-radius: 24px;
	        	-moz-border-radius: 24px;
	        	-ms-border-radius: 24px;
	        	-o-border-radius: 24px;
	        	border-radius: 24px;
        } 
        .ui-slider-horizontal .ui-slider-handle {
	        top: 1px !important;
	        margin-left: 0 !important;
        }
        .ui-widget-content .ui-state-default:after {
			position: absolute;
			top: 12px;
			left: 13px;
			z-index: 3;
			width: 12px;
			height: 12px;
			background-color: #fff;
			content: '';
			-webkit-border-radius: 6px;
	        -moz-border-radius: 6px;
	        -ms-border-radius: 6px;
	        -o-border-radius: 6px;
	        border-radius: 6px;
        }
        .ui-widget-content {
	        background: #cbcbcb url() top left no-repeat;
	        border: 0;
	        -moz-box-shadow:    inset 0 3px 7px -3px #000;
			-webkit-box-shadow: inset 0 3px 7px -3px #000;
			box-shadow:         inset 0 3px 7px -3px #000;
        }  
        </style>
        
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        
        <div class="policyCalculator">
        
        	<h1>Rule of thumb calculator</h1>
        	<span class="separator small center"></span>
        	
        	<h2>Use this calculator to discover the right amount of insurance for you.</h2>
        
	        <p class="ageRangeOutputs">
				<input type="text" id="yourAgeRange"> <br />
				<label for="yourAgeRange">Your age range:</label>
			</p>
				<div id="ageRangeSlider"></div>
			<p class="amountRangeOutputs">
				<input type="text" id="amount"> <br />
				<label for="amount">Policy amount:</label>
			</p>
				<div id="policySlider"></div>
	
			<p class="reccOutput">RECOMMENDED <span id="recc"></span></p>
			<p class="maxOutput">MAXIMUM <span id="max"></span></p>
        </div>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
        
        <script>
        var $j = jQuery.noConflict();
        
		$j(function() {
			
			// Adds CSS file to the head
			var headID = document.getElementsByTagName("head")[0];         
			var cssNode = document.createElement('link');
			cssNode.type = 'text/css';
			cssNode.rel = 'stylesheet';
			cssNode.href = '/css/styles.css';
			cssNode.media = 'screen';
			headID.appendChild(cssNode);  
		    
		    var foo = " ";
		    var bar = " ";
		       
		    // Age range function
		    $j("#ageRangeSlider").slider({
		      range: "min",
		      value: 0,
		      min: 0,
		      max: 66,
		      step: 11,
		      slide: function(event, ui) {
		        $j("#yourAgeRange").val(ui.value);
		        foo = $j("#yourAgeRange").val();
		        console.log('age range' + foo);
		      }
		    });
		    $j("#yourAgeRange").val($j("#ageRangeSlider").slider("value"));
		    
		    // Policy amount function
		    $j("#policySlider").slider({
		      range: "min",
		      value: 0,
		      min: 0,
		      max: 1000000,
		      step: 50000,
		      slide: function(event, ui) {
		        $j("#amount").val(ui.value);
		        bar = $j("#amount").val();
		        console.log('amount'+ bar)
		      }
		    });
		    $j("#amount").val($j("#policySlider").slider("value"));
		
		$j("#ageRangeSlider , #policySlider").on('blur click mousemove mouseup mousedown keypress keyup' , function() {
		  var total = +foo + +bar;
		  console.log( "Handler for .change() called for age range slider" + foo);
		  console.log( "Handler for .change() called for policy range slider" + bar);
		  console.log( "Lets add foo and bar" + total)
		  
		  if(foo == 11){ // This is for the 20-30 range
		  	  $j("#yourAgeRange").val('20-30');
		      var recc = bar * 15;
		      var max = bar * 20;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		  if(foo == 22){ // This is for the 31-40 range
		      $j("#yourAgeRange").val('31-40');
		      var recc = bar * 15;
		      var max = bar * 20;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		  if(foo == 33){ // This is for the 41-50 range
		      $j("#yourAgeRange").val('41-50');
		      var recc = bar * 10;
		      var max = bar * 15;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		  if(foo == 44){ // This is for the 51-60 range
		      $j("#yourAgeRange").val('51-60');
		      var recc = bar * 7;
		      var max = bar * 10;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		  if(foo == 55){ // This is for the 61-65 range
		      $j("#yourAgeRange").val('61-65');
		      var recc = bar * 5;
		      var max = bar * 7;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		  if(foo == 66){ // This is for the 66+ range
		      $j("#yourAgeRange").val('66+');
		      var recc = bar * 3;
		      var max = bar * 5;
		      $j('#recc').html(recc);
		      $j('#max').html(max);
		      console.log('recommended' + recc);
		      console.log('maximum' + max);
		  }
		    
		});
		    
		    
		});
        
        </script>

    </body>
</html>
